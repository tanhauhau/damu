(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,n){e.exports=n(476)},183:function(e,t,n){},474:function(e,t,n){},476:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(171),o=n.n(i),s=(n(183),n(172)),u=n(173),l=n(176),c=n(174),m=n(177),p=n(88),d=n.n(p),f=(n(53),n(192),n(193),n(195),n(50)),h=n(51),v=n(175),b=n.n(v),g=n(87),E=n(0),w=Object(g.declare)(function(e,t){return e.assertVersion(7),{name:"babel-transform-damu-plugin",inherits:b.a,visitor:{JSXElement:function(e){var t=x(e),n=t.identifier,r=t.statements;e.replaceWith(n),r.reverse().forEach(function(t){e.scope.path.unshiftContainer("body",t)})},JSXFragment:function(e){var t,n=e.get("children").filter(C).map(y).reduce(function(e,t){var n,r=t.identifier,a=t.statements;return e.identifiers.push(r),(n=e.statements).push.apply(n,Object(h.a)(a)),e},{identifiers:[],statements:[]}),r=n.identifiers,a=n.statements;e.replaceWith((t=r,E.arrayExpression(t))),a.reverse().forEach(function(t){e.scope.path.unshiftContainer("body",t)})},CallExpression:{exit:function(e){if((a=e.node).callee&&"MemberExpression"===a.callee.type&&a.callee.object&&"Identifier"===a.callee.object.type&&"Damu"===a.callee.object.name&&"Identifier"===a.callee.property.type&&"render"===a.callee.property.name){var t=e.node.arguments,n=t[0],r=t[1];e.replaceWith(D(r,n))}var a}},Program:{exit:function(e){var t=e.scope.bindings.Damu;t&&t.path.remove()}}}}});function y(e){switch(e.node.type){case"JSXElement":return x(e);case"JSXText":return function(e){var t=e.scope.generateUidIdentifier("text");return{identifier:t,statements:[S(t,e.node.value)]}}(e);default:throw new Error("Unknown element type:",e.node.type)}}function x(e){var t=function e(t){switch(t.type){case"JSXMemberExpression":return e(t.object)+"."+e(t.property);case"JSXIdentifier":return t.name;default:throw new Error("Unknown type: ",t.type)}}(e.node.openingElement.name),n=e.scope.generateUidIdentifier(t),r=[],a=function(e,t){return j(e,E.callExpression(E.memberExpression(E.identifier("document"),E.identifier("createElement")),[E.stringLiteral(t)]))}(n,t);return r.push(a),e.node.openingElement.attributes.map(function(e){return function(e,t,n){var r="JSXExpressionContainer"===n.type?n.expression:n;return E.expressionStatement(E.callExpression(E.memberExpression(e,E.identifier("setAttribute")),[E.stringLiteral(t),r]))}(n,e.name.name,e.value)}).forEach(function(e){return r.push(e)}),e.get("children").filter(C).map(y).map(function(e){var t=e.identifier,r=e.statements;return[].concat(Object(h.a)(r),[D(n,t)])}).forEach(function(e){return r.push.apply(r,Object(h.a)(e))}),{identifier:n,statements:r}}function S(e,t){return j(e,E.callExpression(E.memberExpression(E.identifier("document"),E.identifier("createTextNode")),[E.stringLiteral(t)]))}function j(e,t){return E.variableDeclaration("const",[E.variableDeclarator(e,t)])}function D(e,t){return E.expressionStatement(E.callExpression(E.memberExpression(e,E.identifier("appendChild")),[t]))}function C(e){return!("JSXText"===e.node.type&&""===e.node.value.trim())}var I={simple:"const Damu = require('@damu/damu');\n\nDamu.render(\n  <div id=\"foo\" foo={'bar'} height={54} />,\n  document.querySelector('#app')\n);",fragment:"const Damu = require('@damu/damu');\n\nDamu.render(\n  <>\n    <div className=\"child-1\" />\n    <div className=\"child-2\" />\n  </>,\n  document.querySelector('#app')\n);",list:'const Damu = require(\'@damu/damu\');\n\nDamu.render(\n  <div className="body">\n    <h1 className="header">You shall not pass</h1>\n    <li>\n      <ul id="item-1">Item 1</ul>\n      <ul id="item-2">Item 2</ul>\n      <ul id="item-3">Item 3</ul>\n      <ul id="item-4">Item 4</ul>\n      <ul id="item-5">Item 5</ul>\n      <ul id="item-6">Item 6</ul>\n      <ul id="item-7">Item 7</ul>\n    </li>\n  </div>,\n  document.querySelector(\'#app\')\n);'},k=(n(474),Object.keys(I)),O={$blockScrolling:!0},J={useWorker:!1};var N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).onChange=function(e){n.setState({value:e,error:null}),n.transpile(e)},n.onChangeTemplate=function(e){var t=I[e.currentTarget.value];n.setState({value:t,error:null}),n.transpile(t)},n.transpile=function(e){f.transformAsync(e,{plugins:[w]}).then(function(e){var t;n.setState({transpiled:(t=e.code,t.split("\n").filter(function(e){return""!==e.trim()}).map(function(e){return/^(const|document)/.test(e)?"\n"+e:e}).join("\n").trim())})}).catch(function(e){n.setState({transpiled:"",error:e.message})})},n.state={value:I.simple,transpiled:"",error:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.transpile(this.state.value)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"navbar"},a.a.createElement("span",null,"Damu Demo"),a.a.createElement("label",null,"Demo: ",a.a.createElement("select",{onChange:this.onChangeTemplate},k.map(function(e){return a.a.createElement("option",{value:e},e)}))),a.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/tanhauhau/damu"},"View it on Github")),a.a.createElement("div",{className:"App"},a.a.createElement(d.a,{height:"calc(100vh - 50px)",width:"50vw",mode:"jsx",theme:"tomorrow",fontSize:14,onChange:this.onChange,showGutter:!0,name:"editor",value:this.state.value,editorProps:O,tabSize:2,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showLineNumbers:!0,debounceChangePeriod:100}),a.a.createElement(d.a,{height:"calc(100vh - 50px)",width:"50vw",mode:"javascript",theme:"tomorrow",readOnly:!0,fontSize:14,showGutter:!0,name:"preview",value:this.state.error||this.state.transpiled,editorProps:O,tabSize:2,showLineNumbers:!0,setOptions:J})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[178,2,1]]]);
//# sourceMappingURL=main.cce4885e.chunk.js.map